{"ast":null,"code":"import _regeneratorRuntime from\"G:\\\\Git\\\\GaeTaeng Home\\\\gaetaenghome\\\\client\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _slicedToArray from\"G:\\\\Git\\\\GaeTaeng Home\\\\gaetaenghome\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect}from'react';import\"./Board.css\";import Paper from'@material-ui/core/Paper';import Table from'@material-ui/core/Table';import TableHead from'@material-ui/core/TableHead';import TableBody from'@material-ui/core/TableBody';import TableRow from'@material-ui/core/TableRow';import TableCell from'@material-ui/core/TableCell';import CircularProgress from'@material-ui/core/CircularProgress';import{makeStyles}from'@material-ui/core/styles';import{useState}from'react';var useStyles=makeStyles({root:{overflowX:\"auto\",maxWidth:'100vh'},table:{minWidth:'100vh'},progress:{//mrgin: theme.spacing.unit * 2,\n}});export default function Board(){console.log(\"Board!!\");return React.createElement(\"div\",{id:\"Board\"},React.createElement(PostList,null));}function PostList(){var classes=useStyles();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),completed=_useState4[0],setCompleted=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),timer=_useState6[0],setTimer=_useState6[1];function callAPI(){var response,body;return _regeneratorRuntime.async(function callAPI$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(fetch('/api/contents'));case 2:response=_context.sent;_context.next=5;return _regeneratorRuntime.awrap(response.json());case 5:body=_context.sent;console.log(\"BODY : \"+body);return _context.abrupt(\"return\",body);case 8:case\"end\":return _context.stop();}}},null,null,null,Promise);}function clear(){clearInterval(timer);console.log(\"CLEAR! timer \"+timer);}useEffect(function(){function tick(){var oldCompleted=completed;setCompleted(function(oldCompleted){return oldCompleted>=100?0:oldCompleted+1;});}setTimer(setInterval(tick,20));console.log(\"timer ::: \"+timer);callAPI().then(setPosts);return function(){clear();};},[]);return React.createElement(Paper,{className:classes.root},React.createElement(Table,{className:classes.table},React.createElement(TableHead,null,React.createElement(TableRow,null,React.createElement(TableCell,null,\"ID!\"),React.createElement(TableCell,null,\"TITLE\"),React.createElement(TableCell,null,\"CONTENT\"),React.createElement(TableCell,null,\"WRITER\"),React.createElement(TableCell,null,\" DATE\"))),React.createElement(TableBody,null,posts?console.log(posts):console.log(\"posts is Null\"),posts?posts.map(function(p,index){return React.createElement(PostView,{key:index,id:p.id,title:p.title,content:p.content,writer:p.writer,date:p.date,finish:clear()});}):React.createElement(TableRow,null,React.createElement(TableCell,{colSpan:\"5\",align:\"center\"},React.createElement(CircularProgress,{variant:\"determinate\",value:completed}))))));}function PostView(props){return React.createElement(TableRow,null,React.createElement(TableCell,null,props.id),React.createElement(TableCell,null,props.title),React.createElement(TableCell,null,props.content),React.createElement(TableCell,null,props.writer),React.createElement(TableCell,null,props.date));}","map":{"version":3,"sources":["G:/Git/GaeTaeng Home/gaetaenghome/client/src/components/Main/contents/board/Board.js"],"names":["React","useEffect","Paper","Table","TableHead","TableBody","TableRow","TableCell","CircularProgress","makeStyles","useState","useStyles","root","overflowX","maxWidth","table","minWidth","progress","Board","console","log","PostList","classes","posts","setPosts","completed","setCompleted","timer","setTimer","callAPI","fetch","response","json","body","clear","clearInterval","tick","oldCompleted","setInterval","then","map","p","index","id","title","content","writer","date","PostView","props"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\r\nimport \"./Board.css\";\r\n\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableBody from '@material-ui/core/TableBody';\r\n\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableCell from '@material-ui/core/TableCell';\r\n\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useState } from 'react';\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        overflowX: \"auto\",\r\n        maxWidth: '100vh',\r\n    },\r\n    table: {\r\n        minWidth: '100vh',\r\n    },\r\n    progress: {\r\n        //mrgin: theme.spacing.unit * 2,\r\n    },\r\n});\r\nexport default function Board() {\r\n\r\n    console.log(\"Board!!\");\r\n    return (\r\n        <div id=\"Board\">\r\n            <PostList />\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction PostList() {\r\n    const classes = useStyles();\r\n    const [posts, setPosts] = useState(\"\");\r\n    const [completed, setCompleted] = useState(0);\r\n    const [timer, setTimer] = useState(null);\r\n    async function callAPI() {\r\n        const response = await fetch('/api/contents');\r\n        const body = await response.json();\r\n        console.log(\"BODY : \" + body);\r\n        return body;\r\n    }\r\n\r\n    function clear() {\r\n        clearInterval(timer);\r\n        console.log(\"CLEAR! timer \" + timer);\r\n    }\r\n    useEffect(() => {\r\n        function tick() {\r\n            var oldCompleted = completed;\r\n            setCompleted((oldCompleted) => (oldCompleted >= 100 ? 0 : oldCompleted + 1));\r\n        }\r\n        setTimer(setInterval(tick, 20));\r\n        console.log(\"timer ::: \" + timer)\r\n        callAPI().then(setPosts);\r\n         return () => {\r\n             clear();\r\n         }\r\n    }, []);\r\n\r\n    return (\r\n        <Paper className={classes.root}>\r\n            <Table className={classes.table}>\r\n                <TableHead>\r\n                    <TableRow>\r\n                        <TableCell>ID!</TableCell>\r\n                        <TableCell>TITLE</TableCell>\r\n                        <TableCell>CONTENT</TableCell>\r\n                        <TableCell>WRITER</TableCell>\r\n                        <TableCell> DATE</TableCell>\r\n                    </TableRow>\r\n                </TableHead>\r\n\r\n                <TableBody>\r\n                    {posts ? console.log(posts) : console.log(\"posts is Null\")}\r\n                    {posts ? posts.map((p, index) => {\r\n                        return (\r\n                            <PostView key={index} id={p.id} title={p.title} content={p.content} writer={p.writer} date={p.date} finish={clear()} />\r\n                        )\r\n                    }) :\r\n                        <TableRow>\r\n                            <TableCell colSpan='5' align=\"center\">\r\n                                <CircularProgress variant=\"determinate\" value={completed} />\r\n                            </TableCell>\r\n                        </TableRow>\r\n                    }\r\n                </TableBody>\r\n\r\n            </Table>\r\n        </Paper>\r\n    )\r\n}\r\n\r\nfunction PostView(props) {\r\n    return (\r\n        <TableRow>\r\n\r\n            <TableCell>{props.id}</TableCell>\r\n            <TableCell>{props.title}</TableCell>\r\n            <TableCell>{props.content}</TableCell>\r\n            <TableCell>{props.writer}</TableCell>\r\n            <TableCell>{props.date}</TableCell>\r\n        </TableRow>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}